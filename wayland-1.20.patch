
# HG changeset patch
# User Kevin Daudt <kdaudt@alpinelinux.org>
# Date 1639316328 0
# Node ID f7e2cf808d303d04b1b92dc825621b2fdba5559b
# Parent  ce23c0066bacde4cef8dac8e5e8e42df6cac4bff
Bug 1745560 - Add missing stub for wl_proxy_marshal_flags, r=stransky

Firefox fails to build against wayland 1.20 because this symbol is missing

Differential Revision: https://phabricator.services.mozilla.com/D133583

diff --git a/widget/gtk/mozwayland/mozwayland.c b/widget/gtk/mozwayland/mozwayland.c
--- a/widget/gtk/mozwayland/mozwayland.c
+++ b/widget/gtk/mozwayland/mozwayland.c
@@ -195,8 +195,15 @@ MOZ_EXPORT void wl_list_insert(struct wl
 MOZ_EXPORT void wl_list_remove(struct wl_list* elm) {}
 
 MOZ_EXPORT int wl_list_length(const struct wl_list* list) { return -1; }
 
 MOZ_EXPORT int wl_list_empty(const struct wl_list* list) { return -1; }
 
 MOZ_EXPORT void wl_list_insert_list(struct wl_list* list,
                                     struct wl_list* other) {}
+
+MOZ_EXPORT struct wl_proxy* wl_proxy_marshal_flags(
+    struct wl_proxy* proxy, uint32_t opcode,
+    const struct wl_interface* interface, uint32_t version, uint32_t flags,
+    ...) {
+  return NULL;
+}

